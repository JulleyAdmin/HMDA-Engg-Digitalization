<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HMDA Feedback System Demo - Walkthrough Guide</title>
    <link rel="stylesheet" href="shared/styles.css">
    <link rel="stylesheet" href="shared/feedback-system.css">
    <style>
        .demo-section {
            background: #f0fdf4;
            border: 2px solid #059669;
            border-radius: 12px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .demo-title {
            color: #166534;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .instruction-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .instruction-step {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            margin: 15px 0;
            padding: 15px;
            background: #f8fafc;
            border-radius: 8px;
            border-left: 4px solid #1e3a8a;
        }
        
        .step-number {
            background: #1e3a8a;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.875rem;
            flex-shrink: 0;
        }
        
        .step-content h4 {
            margin: 0 0 8px 0;
            color: #1e293b;
            font-weight: 600;
        }
        
        .step-content p {
            margin: 0;
            color: #4b5563;
            line-height: 1.5;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .feature-title {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 10px;
        }
        
        .feature-description {
            color: #6b7280;
            font-size: 0.875rem;
            line-height: 1.4;
        }
        
        .benefits-list {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .benefits-list ul {
            margin: 0;
            padding-left: 20px;
        }
        
        .benefits-list li {
            margin: 8px 0;
            color: #1e3a8a;
        }
        
        .sample-data {
            background: #fef3c7;
            border: 1px solid #fbbf24;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .sample-data h4 {
            color: #92400e;
            margin-bottom: 15px;
        }
        
        .sample-feedback {
            background: white;
            border: 1px solid #f59e0b;
            border-radius: 6px;
            padding: 15px;
            margin: 10px 0;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>HMDA Feedback System Demo</h1>
                <p class="subtitle">Comprehensive Walkthrough Feedback Capture</p>
            </div>
        </header>

        <!-- User Info Bar -->
        <div class="user-info">
            <div class="user-details">
                <div class="user-avatar">BR</div>
                <div class="user-info-text">
                    <div class="user-name">Sri B. Ravinder</div>
                    <div class="user-role">Chief Engineer, HMDA</div>
                </div>
            </div>
            <div class="current-time" id="currentTime"></div>
        </div>

        <!-- Demo Content -->
        <main class="form-content">
            <!-- Introduction -->
            <div class="demo-section">
                <div class="demo-title">
                    🎯 Feedback System Overview
                </div>
                <p>
                    This comprehensive feedback capture system allows HMDA officials to provide structured, 
                    detailed feedback during the walkthrough of each stage form. The system captures both 
                    quantitative ratings and qualitative comments for every section of the forms.
                </p>
            </div>

            <!-- Key Features -->
            <div class="form-group">
                <h3 class="form-group-title">
                    <span class="form-group-icon">✨</span>
                    Key Features
                </h3>
                
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">📱</div>
                        <div class="feature-title">Floating Widget</div>
                        <div class="feature-description">
                            Always accessible feedback button that doesn't interfere with form viewing
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">📊</div>
                        <div class="feature-title">Section-wise Rating</div>
                        <div class="feature-description">
                            5-star rating system for each form section with detailed category assessment
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">👥</div>
                        <div class="feature-title">Multi-participant</div>
                        <div class="feature-description">
                            Track all meeting participants and their roles for comprehensive feedback
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">💾</div>
                        <div class="feature-title">Auto-save</div>
                        <div class="feature-description">
                            Automatic saving every 30 seconds to prevent data loss during discussions
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">📄</div>
                        <div class="feature-title">Export Reports</div>
                        <div class="feature-description">
                            Generate professional HTML reports with all feedback and recommendations
                        </div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">🎯</div>
                        <div class="feature-title">Priority Tracking</div>
                        <div class="feature-description">
                            Categorize feedback by priority (High/Medium/Low) for effective action planning
                        </div>
                    </div>
                </div>
            </div>

            <!-- How to Use -->
            <div class="form-group">
                <h3 class="form-group-title">
                    <span class="form-group-icon">📋</span>
                    How to Use During Walkthrough
                </h3>
                
                <div class="instruction-card">
                    <div class="instruction-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Open Any Stage Form</h4>
                            <p>Navigate to any stage form (e.g., Stage 3 Tendering). You'll see a floating feedback button on the right side of the screen.</p>
                        </div>
                    </div>
                    
                    <div class="instruction-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Add Participants</h4>
                            <p>Click the feedback button and add all meeting participants (names and roles). This helps track who provided which feedback.</p>
                        </div>
                    </div>
                    
                    <div class="instruction-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Provide Overall Rating</h4>
                            <p>Give an overall 1-5 star rating for the entire form. This provides a quick assessment before diving into details.</p>
                        </div>
                    </div>
                    
                    <div class="instruction-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Section-wise Feedback</h4>
                            <p>Select each form section from the dropdown. Rate each section, check positive aspects, add comments, and set priority level.</p>
                        </div>
                    </div>
                    
                    <div class="instruction-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h4>Add Recommendations</h4>
                            <p>Provide implementation recommendations and set final approval status (Approved, Needs Revisions, etc.).</p>
                        </div>
                    </div>
                    
                    <div class="instruction-step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <h4>Export Report</h4>
                            <p>Generate and download a comprehensive feedback report in HTML format for documentation and follow-up actions.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Benefits -->
            <div class="form-group">
                <h3 class="form-group-title">
                    <span class="form-group-icon">🎯</span>
                    Benefits for HMDA
                </h3>
                
                <div class="benefits-list">
                    <h4>🏢 For HMDA Officials:</h4>
                    <ul>
                        <li><strong>Structured Feedback:</strong> Consistent format for all evaluations</li>
                        <li><strong>Real-time Capture:</strong> No need to remember details later</li>
                        <li><strong>Comprehensive Coverage:</strong> Every section gets proper attention</li>
                        <li><strong>Priority Setting:</strong> Focus on most critical issues first</li>
                        <li><strong>Professional Documentation:</strong> Formal reports for records</li>
                    </ul>
                    
                    <h4>📊 For Project Management:</h4>
                    <ul>
                        <li><strong>Clear Action Items:</strong> Specific feedback with priority levels</li>
                        <li><strong>Approval Tracking:</strong> Official approval status documentation</li>
                        <li><strong>Stakeholder Input:</strong> All participant feedback in one place</li>
                        <li><strong>Progress Monitoring:</strong> Track improvement across iterations</li>
                    </ul>
                </div>
            </div>

            <!-- Sample Data -->
            <div class="form-group">
                <h3 class="form-group-title">
                    <span class="form-group-icon">📝</span>
                    Sample Feedback Data
                </h3>
                
                <div class="sample-data">
                    <h4>Example Feedback for Stage 3 - Tendering Form:</h4>
                    
                    <div class="sample-feedback">
                        <strong>Section:</strong> Bidder Analysis & Evaluation Results<br>
                        <strong>Rating:</strong> ⭐⭐⭐⭐⭐ (5/5)<br>
                        <strong>Positive Aspects:</strong> Clear & Easy to Understand, Complete Information, Accurate Data & Calculations<br>
                        <strong>Comments:</strong> "Excellent comparison table with clear L1 winner identification. The savings calculation is accurate and well-presented. Recommend adding contractor past performance scores."<br>
                        <strong>Priority:</strong> Medium
                    </div>
                    
                    <div class="sample-feedback">
                        <strong>Section:</strong> Evaluation Committee & Process<br>
                        <strong>Rating:</strong> ⭐⭐⭐⭐ (4/5)<br>
                        <strong>Positive Aspects:</strong> Logical Workflow, Good System Integration<br>
                        <strong>Comments:</strong> "Committee composition is appropriate. Suggest adding committee meeting dates and individual member signatures for transparency."<br>
                        <strong>Priority:</strong> Low
                    </div>
                    
                    <div class="sample-feedback">
                        <strong>Overall Rating:</strong> ⭐⭐⭐⭐ (4/5 - Very Good)<br>
                        <strong>Approval Status:</strong> ✅ Approved with Minor Modifications<br>
                        <strong>Recommendations:</strong> "Form is well-designed and captures all necessary tender information. Implement suggested transparency enhancements and add automated compliance checks."
                    </div>
                </div>
            </div>

            <!-- Technical Details -->
            <div class="form-group">
                <h3 class="form-group-title">
                    <span class="form-group-icon">⚙️</span>
                    Technical Implementation
                </h3>
                
                <div class="form-row">
                    <div class="field">
                        <label class="field-label">Integration Method</label>
                        <input type="text" class="field-input" value="JavaScript Widget + CSS Overlay" readonly>
                    </div>
                    
                    <div class="field">
                        <label class="field-label">Data Storage</label>
                        <input type="text" class="field-input" value="Local Storage + Export to HTML/PDF" readonly>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="field">
                        <label class="field-label">Browser Compatibility</label>
                        <input type="text" class="field-input" value="All Modern Browsers (Chrome, Firefox, Safari, Edge)" readonly>
                    </div>
                    
                    <div class="field">
                        <label class="field-label">Mobile Support</label>
                        <input type="text" class="field-input" value="Fully Responsive - Works on Tablets and Phones" readonly>
                    </div>
                </div>
                
                <div class="form-row single-column">
                    <div class="field">
                        <label class="field-label">Files Added to Each Form</label>
                        <textarea class="field-input" readonly rows="3">1. shared/feedback-system.css - All styling for feedback widget
2. shared/feedback-system.js - Complete feedback functionality  
3. HTML imports added to each stage form header and footer</textarea>
                    </div>
                </div>
            </div>

            <!-- Next Steps -->
            <div class="demo-section">
                <div class="demo-title">
                    🚀 Next Steps for Implementation
                </div>
                <div class="instruction-card">
                    <div class="instruction-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Test the System</h4>
                            <p>Navigate to Stage 3 Tendering form and test the feedback widget functionality</p>
                        </div>
                    </div>
                    
                    <div class="instruction-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Add to All Forms</h4>
                            <p>Integrate the CSS and JavaScript files into all remaining stage forms</p>
                        </div>
                    </div>
                    
                    <div class="instruction-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Customize for HMDA</h4>
                            <p>Adjust participant roles, feedback categories, and approval statuses specific to HMDA processes</p>
                        </div>
                    </div>
                    
                    <div class="instruction-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Train Officials</h4>
                            <p>Provide brief training to HMDA officials on using the feedback system during walkthrough</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Form Actions -->
        <div class="form-actions">
            <div>
                <button type="button" class="btn btn-secondary" onclick="window.location.href='index.html'">
                    🏠 Back to Main Menu
                </button>
                <button type="button" class="btn btn-secondary" onclick="window.location.href='stage3-tendering.html'">
                    🧪 Test Feedback System
                </button>
            </div>
            
            <div style="display: flex; gap: 15px;">
                <button type="button" class="btn btn-success" onclick="downloadImplementationGuide()">
                    📋 Download Implementation Guide
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            updateCurrentTime();
            setInterval(updateCurrentTime, 1000);
        });

        function updateCurrentTime() {
            const now = new Date();
            const timeString = now.toLocaleString('en-IN', {
                timeZone: 'Asia/Kolkata',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            const timeElement = document.getElementById('currentTime');
            if (timeElement) {
                timeElement.textContent = timeString;
            }
        }

        function downloadImplementationGuide() {
            const guide = `
# HMDA Feedback System Implementation Guide

## Quick Setup for All Forms

### Step 1: Add CSS and JS to each HTML file

Add to <head> section:
\`\`\`html
<link rel="stylesheet" href="shared/feedback-system.css">
\`\`\`

Add before closing </body> tag:
\`\`\`html
<script src="shared/feedback-system.js"></script>
\`\`\`

### Step 2: Files Required
- shared/feedback-system.css (styling)
- shared/feedback-system.js (functionality)

### Step 3: Customization Options
- Modify participant roles in loadParticipants() function
- Adjust feedback categories in createPanelHTML() function  
- Customize approval statuses in the approval-status select element

### Step 4: Usage During Walkthrough
1. Open any stage form
2. Click feedback button on right side
3. Add participants
4. Rate sections and provide comments
5. Export report when complete

## Benefits
- Structured feedback collection
- Professional documentation
- Real-time data capture
- Comprehensive reporting
- Zero disruption to form viewing

Contact: Technical Team for additional customization
            `;
            
            const blob = new Blob([guide], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'HMDA-Feedback-System-Implementation-Guide.md';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
    <script src="shared/feedback-system.js"></script>
</body>
</html>